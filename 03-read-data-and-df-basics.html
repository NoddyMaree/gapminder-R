<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <title>Software Carpentry: R for reproducible scientific analysis</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body class="lesson">
    <div class="container card">
      <div class="banner">
        <a href="http://software-carpentry.org" title="Software Carpentry">
          <img alt="Software Carpentry banner" src="img/software-carpentry-banner.png" />
        </a>
      </div>
      <article>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
                    <a href="index.html"><h1 class="title">R for reproducible scientific analysis</h1></a>
          <h2 class="subtitle">data.frame</h2>
          <section class="objectives panel panel-warning">
<div class="panel-heading">
<h2 id="learning-objectives"><span class="glyphicon glyphicon-certificate"></span>Learning objectives</h2>
</div>
<div class="panel-body">
<ul>
<li>Be able to read a csv file and store it to a variable</li>
<li>Understand data.frame as foundational object</li>
<li>Be able to ask questions about the structure of a data.frame and its component parts.</li>
</ul>
</div>
</section>
<h3 id="read-a-csv">Read a csv</h3>
<p>Data come in many forms, and we need to be able to load them in R. For our own use and with others who use R, there are R-specific data structures we can use, and we will see these later, but we need to be able to work with more general data types too. Comma-separated value (csv) tables are perhaps the most universal data structure. We can read csv’s with the <code>read.csv</code> function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">read.csv</span>(<span class="st">&#39;path/to/csv_file.csv&#39;</span>)</code></pre></div>
<p>Note that:</p>
<ul>
<li><code>read.csv</code> is a function. That’s how R works: everything is a function.</li>
<li>Argument to <code>read.csv</code> is the location of the csv file, relative to the working directory
<ul>
<li>Point to the working directory above the console. Theirs should be the root of their project.</li>
<li>File name goes in quotes. Otherwise R will look for a variable called <code>path/to/csv_file.csv</code> and get confused when it hits the <code>/</code></li>
</ul></li>
</ul>
<p>Let’s read the gapminder data we downloaded in the previous lesson:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">read.csv</span>(<span class="st">&#39;data/gapminder-FiveYearData.csv&#39;</span>)</code></pre></div>
<p>Whoa! What just happened? R executed the function and printed the result, just like when you enter <code>log(1)</code>. How do you store an object to a variable?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gapminder &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;data/gapminder-FiveYearData.csv&#39;</span>)</code></pre></div>
<h3 id="data-frame-basics">Data frame basics</h3>
<p>Check the Environment tab – gapminder has appeared. It is a <code>data.frame</code> with 1704 observations of 6 variables. <em>Click on it to show the data table format of a data.frame. Clarify variables versus observations.</em></p>
<p>It’s nice to not have to point and click, and we’d like to get more information about our <code>data.frame</code>. There are many ways; <code>head</code>, <code>str</code>, and <code>summary</code> are very useful.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(gapminder)</code></pre></div>
<pre class="output"><code>      country year      pop continent lifeExp gdpPercap
1 Afghanistan 1952  8425333      Asia  28.801  779.4453
2 Afghanistan 1957  9240934      Asia  30.332  820.8530
3 Afghanistan 1962 10267083      Asia  31.997  853.1007
4 Afghanistan 1967 11537966      Asia  34.020  836.1971
5 Afghanistan 1972 13079460      Asia  36.088  739.9811
6 Afghanistan 1977 14880372      Asia  38.438  786.1134
</code></pre>
<p><code>head</code> shows us a managable number of rows of what we saw in table form.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(gapminder)</code></pre></div>
<pre class="output"><code>&#39;data.frame&#39;:   1704 obs. of  6 variables:
 $ country  : Factor w/ 142 levels &quot;Afghanistan&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
 $ year     : int  1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...
 $ pop      : num  8425333 9240934 10267083 11537966 13079460 ...
 $ continent: Factor w/ 5 levels &quot;Africa&quot;,&quot;Americas&quot;,..: 3 3 3 3 3 3 3 3 3 3 ...
 $ lifeExp  : num  28.8 30.3 32 34 36.1 ...
 $ gdpPercap: num  779 821 853 836 740 ...
</code></pre>
<p><code>str</code> tells us what type of variable each is. We’ll get into the details of variable types later, but for now, note that we have four numerical variables (one, year, is integer), and two character variables, which R interprets as factors. Levels are the possible values a factor can take; here, we have 142 possible countries and five possible continents.</p>
<section class="challenge panel panel-success">
<div class="panel-heading">
<h4 id="challenge-1"><span class="glyphicon glyphicon-pencil"></span>Challenge 1</h4>
</div>
<div class="panel-body">
<p>There is another function like <code>head()</code> and <code>str()</code> that provides information on a <code>data.frame</code>: <code>summary()</code><br />
- Call the <code>summary</code> function on the <code>gapminder</code> data.<br />
- What is the most recent year for which we have data?</p>
</div>
</section>
        </div>
      </div>
      </article>
      <div class="footer">
        <a class="label swc-blue-bg" href="http://software-carpentry.org">Software Carpentry</a>
        <a class="label swc-blue-bg" href="https://github.com/swcarpentry/lesson-template">Source</a>
        <a class="label swc-blue-bg" href="mailto:admin@software-carpentry.org">Contact</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="http://software-carpentry.org/v5/js/jquery-1.9.1.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
  </body>
</html>
